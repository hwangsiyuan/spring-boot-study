CREATE DATABASE IF NOT EXISTS `officeautomation` DEFAULT CHARSET utf8 COLLATE utf8_general_ci;

 create table tb_oa_dept (id bigint not null, create_time datetime, modify_time datetime, name varchar(128), remark varchar(1024), creator varchar(50), modifier varchar(50), primary key (id))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 create table tb_oa_job (code varchar(100) not null, name varchar(128), remark varchar(1024), primary key (code))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 create table tb_oa_module (code varchar(100) not null, create_time datetime, modify_time datetime, name varchar(128), remark varchar(1024), url varchar(128), creator varchar(50), modifier varchar(50), primary key (code))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 create table tb_oa_popedom (id bigint not null, create_time datetime, creator varchar(50), module_code varchar(100), operate_code varchar(100), role_id bigint, primary key (id))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 create table tb_oa_role (id bigint not null, create_time datetime, modify_time datetime, name varchar(128), remark varchar(1024), creator varchar(50), modifier varchar(50), primary key (id))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 create table tb_oa_user (user_id varchar(50) not null, answer varchar(200), check_time datetime, create_time datetime, email varchar(128), modify_time datetime, name varchar(128), password varchar(128), qq_num varchar(20), question_num smallint, sex smallint, status smallint, telephone varchar(20), check_user varchar(50), creator varchar(50), dept_id bigint, job_code varchar(100), modifier varchar(50), primary key (user_id))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 create table tb_oa_user_role (role_id bigint not null, user_id varchar(50) not null, primary key (role_id, user_id))ENGINE=InnoDB DEFAULT CHARSET=utf8;
 alter table tb_oa_dept add constraint fk_oa_dept_creator foreign key (creator) references tb_oa_user (user_id);
 alter table tb_oa_dept add constraint fk_oa_dept_modifier foreign key (modifier) references tb_oa_user (user_id);
 alter table tb_oa_module add constraint fk_oa_module_creator foreign key (creator) references tb_oa_user (user_id);
 alter table tb_oa_module add constraint fk_oa_module_modifier foreign key (modifier) references tb_oa_user (user_id);
 alter table tb_oa_popedom add constraint fk_oa_popedom_creator foreign key (creator) references tb_oa_user (user_id);
 alter table tb_oa_popedom add constraint fk_oa_popedom_module foreign key (module_code) references tb_oa_module (code);
 alter table tb_oa_popedom add constraint fk_oa_popedom_operate foreign key (operate_code) references tb_oa_module (code);
 alter table tb_oa_popedom add constraint fk_oa_popedom_role foreign key (role_id) references tb_oa_role (id);
 alter table tb_oa_role add constraint fk_oa_role_creator foreign key (creator) references tb_oa_user (user_id);
 alter table tb_oa_role add constraint fk_oa_role_modifier foreign key (modifier) references tb_oa_user (user_id);
 alter table tb_oa_user add constraint fk_oa_user_check_user foreign key (check_user) references tb_oa_user (user_id);
 alter table tb_oa_user add constraint fk_oa_user_creator foreign key (creator) references tb_oa_user (user_id);
 alter table tb_oa_user add constraint fk_oa_user_dept foreign key (dept_id) references tb_oa_dept (id);
 alter table tb_oa_user add constraint fk_oa_user_job foreign key (job_code) references tb_oa_job (code);
 alter table tb_oa_user add constraint fk_oa_user_modifier foreign key (modifier) references tb_oa_user (user_id);
 alter table tb_oa_user_role add constraint FKrnhqpi6118ojcty2qed6bx4s8 foreign key (user_id) references tb_oa_user (user_id);
 alter table tb_oa_user_role add constraint FKpkub7bo4qhprt05b0veq8f8as foreign key (role_id) references tb_oa_role (id);

insert  into `tb_oa_dept`(`id`,`create_time`,`modify_time`,`name`,`remark`,`creator`,`modifier`) values (1,'2019-09-10 09:33:24','2019-09-10 09:33:24','技术部',NULL,'admin','admin'),(2,'2019-09-10 09:33:24','2019-09-10 09:33:24','运营部',NULL,'admin','admin'),(3,'2019-09-10 09:33:24','2019-09-10 09:33:24','财务部',NULL,'admin','admin'),(4,'2019-09-10 09:33:24','2019-09-10 09:33:24','人事部',NULL,'admin','admin'),(5,'2019-09-10 09:33:24','2019-09-10 09:33:24','总公办',NULL,'admin','admin');

/*Data for the table `oa_id_job` */

insert  into `tb_oa_job`(`code`,`name`,`remark`) values ('0001','职员',NULL),('0002','Java开发工程师',NULL),('0003','Java中级开发工程师',NULL),('0004','Java高级开发工程师',NULL),('0005','系统管理员',NULL),('0006','架构师',NULL),('0007','主管',NULL),('0008','经理',NULL),('0009','总经理',NULL);

/*Data for the table `oa_id_module` */

insert  into `tb_oa_module`(`code`,`create_time`,`modify_time`,`name`,`remark`,`url`,`creator`,`modifier`) values ('0001','2019-09-10 09:33:24','2019-09-10 09:33:24','系统管理','系统管理','#','admin','admin'),('00010001','2019-09-10 09:33:24','2019-09-10 09:33:24','用户管理','用户','/identity/user/selectUser','admin','admin'),('000100010001','2019-09-10 09:33:24','2019-09-10 09:33:24','--------查询操作','查询操作','/identity/user/selectUser','admin','admin'),('000100010002','2019-09-10 09:33:24','2019-09-19 16:41:29','--------增加操作','','/identity/user/addUser','admin','admin'),('000100010003','2019-09-10 09:33:24','2019-09-19 16:41:43','--------修改操作','','/identity/user/updateUser','admin','admin'),('000100010004','2019-09-10 09:33:24','2019-09-20 09:10:06','--------删除操作','','/identity/user/deleteUser','admin','admin'),('000100010005','2019-09-10 09:33:24','2019-09-20 09:09:16','--------预览用户','审核操作','/identity/user/preUser','admin','admin'),('000100010006','2019-09-19 16:06:58','2019-09-20 09:09:48','激活用户','测试一下','/identity/user/activeUser','admin','admin'),('00010002','2019-09-19 16:39:47','2019-09-20 09:08:00','菜单管理','','/identity/module/mgrModule','admin','admin'),('000100020001','2019-09-19 16:41:09','2019-09-20 09:10:52','管理菜单','','/identity/module/mgrModule','admin','admin'),('000100020002','2019-09-20 09:12:41',NULL,'查询子模块','查询子菜单','/identity/module/getModulesByParent','admin',NULL),('000100020003','2019-09-20 09:14:53',NULL,'添加模块','','/identity/module/addModule','admin',NULL),('000100020004','2019-09-20 09:15:14','2019-09-20 14:00:12','删除模块','','/identity/module/deleteModule','admin','admin'),('000100020005','2019-09-20 09:15:50',NULL,'修改模块','','/identity/module/updateModule','admin',NULL),('00010003','2019-09-19 16:40:06','2019-09-20 11:05:16','角色管理','','/identity/role/selectRole','admin','admin'),('000100030001','2019-09-20 09:17:42','2019-09-20 09:21:06','查询角色','','/identity/role/selectRole','admin','admin'),('000100030002','2019-09-20 09:18:19','2019-09-20 11:26:10','添加角色','','/identity/role/addRole','admin','admin'),('000100030003','2019-09-20 09:18:48','2019-09-20 11:26:14','删除角色','','/identity/role/deleteRole','admin','admin'),('000100030004','2019-09-20 09:19:19','2019-09-20 11:26:17','修改角色','','/identity/role/updateRole','admin','admin'),('000100030005','2019-09-20 09:19:49',NULL,'查询角色用户','','/identity/role/selectRoleUser','admin',NULL),('000100030006','2019-09-20 09:23:02',NULL,'绑定用户','','/identity/role/bindUser','admin',NULL),('000100030007','2019-09-20 09:23:18',NULL,'解绑用户','','/identity/role/unBindUser','admin',NULL),('000100030008','2019-09-20 09:24:17','2019-09-20 09:24:48','管理权限','','/identity/popedom/mgrPopedom','admin','admin'),('000100030009','2019-09-20 09:24:36','2019-09-20 15:37:52','角色模块操作权限','','/identity/popedom/getOperasByParent','admin','admin'),('000100030010','2019-09-20 09:27:40','2019-09-20 09:27:55','绑定模块操作','','/identity/popedom/bindPopedom','admin','admin'),('0002','2012-04-07 13:45:51',NULL,'假期管理','假期管理','#','admin',NULL),('00020001','2019-09-20 09:30:36','2019-09-20 09:30:36','假期类型','假期类型管理','/admin/leave/mgrLeaveType','admin','admin'),('000200010001','2019-09-20 09:30:36','2019-09-20 11:19:49','--------查询操作','查询操作','/admin/leave/selectLeaveType','admin','admin'),('000200010002','2019-09-20 09:30:36','2019-09-20 09:30:36','--------增加操作','增加操作','/admin/leave/addLeaveType','admin','admin'),('000200010003','2019-09-20 09:30:36','2019-09-20 11:19:53','--------修改操作','修改操作','/admin/leave/updateLeaveType','admin','admin'),('000200010004','2019-09-20 09:30:36','2019-09-20 11:19:56','--------删除操作','删除操作','/admin/leave/deleteLeaveType','admin','admin'),('000200010005','2019-09-20 09:30:36','2019-09-20 09:30:36','--------管理操作','管理操作','/admin/leave/mgrLeaveType','admin','admin'),('00020002','2019-09-20 09:30:36',NULL,'假期明细','假期明细','/admin/leave/mgrLeaveItem','admin',NULL),('000200020001','2019-09-20 09:30:36',NULL,'--------管理操作','管理操作','/admin/leave/mgrLeaveItem','admin',NULL),('000200020002','2019-09-20 09:30:36',NULL,'--------查询操作','查询操作','/admin/leave/selectLeaveItem','admin',NULL),('000200020006','2019-09-20 09:30:36',NULL,'--------审核操作','审核操作','/admin/leave/checkLeaveItem','admin',NULL),('00020003','2019-09-20 09:30:36','2019-09-20 09:30:36','用户请假','用户请假','/admin/leave/selectUserLeave','admin','admin'),('000200030001','2019-09-20 09:30:36',NULL,'--------查询操作','查询操作','/admin/leave/selectUserLeave','admin',NULL),('000200030002','2019-09-20 09:30:36',NULL,'--------增加操作','增加操作','/admin/leave/addUserLeave','admin',NULL),('000200030003','2019-09-20 09:30:36',NULL,'--------修改操作','修改操作','/admin/leave/updateUserLeave','admin',NULL),('000200030004','2019-09-20 09:30:36',NULL,'--------删除操作','删除操作','/admin/leave/deleteUserLeave','admin',NULL),('00020004','2019-09-20 09:30:36','2019-09-20 09:30:36','假期审批','假期审批','/admin/leave/selectAuditLeave','admin','admin'),('000200040001','2019-09-20 09:30:36',NULL,'--------查看审批操作','查看审批操作','/admin/leave/selectAuditLeave','admin',NULL),('000200040002','2019-09-20 09:30:36',NULL,'--------审批请假操作','审批请假操作','/admin/leave/auditLeaveSheet','admin',NULL);

/*Data for the table `oa_id_popedom` */

insert  into `tb_oa_popedom`(`id`,`create_time`,`creator`,`module_code`,`operate_code`,`role_id`) values (133,'2019-09-20 11:03:28','admin','00010003','000100030001',1),(134,'2019-09-20 11:03:28','admin','00010003','000100030002',1),(135,'2019-09-20 11:03:28','admin','00010003','000100030003',1),(136,'2019-09-20 11:03:28','admin','00010003','000100030004',1),(137,'2019-09-20 11:03:28','admin','00010003','000100030005',1),(138,'2019-09-20 11:03:28','admin','00010003','000100030006',1),(139,'2019-09-20 11:03:28','admin','00010003','000100030007',1),(140,'2019-09-20 11:03:28','admin','00010003','000100030008',1),(141,'2019-09-20 11:03:28','admin','00010003','000100030009',1),(142,'2019-09-20 11:03:28','admin','00010003','000100030010',1),(156,'2019-09-20 11:16:07','admin','00010003','000100030001',2),(157,'2019-09-20 11:16:07','admin','00010003','000100030002',2),(158,'2019-09-20 11:16:07','admin','00010003','000100030003',2),(159,'2019-09-20 11:16:07','admin','00010003','000100030004',2),(160,'2019-09-20 11:16:07','admin','00010003','000100030005',2),(161,'2019-09-20 11:16:07','admin','00010003','000100030006',2),(162,'2019-09-20 11:16:07','admin','00010003','000100030007',2),(163,'2019-09-20 11:16:07','admin','00010003','000100030008',2),(164,'2019-09-20 11:16:07','admin','00010003','000100030009',2),(165,'2019-09-20 11:16:07','admin','00010003','000100030010',2),(166,'2019-09-20 11:16:59','admin','00010002','000100020001',1),(167,'2019-09-20 11:16:59','admin','00010002','000100020002',1),(168,'2019-09-20 11:16:59','admin','00010002','000100020003',1),(169,'2019-09-20 11:16:59','admin','00010002','000100020004',1),(170,'2019-09-20 11:16:59','admin','00010002','000100020005',1),(171,'2019-09-20 11:23:23','admin','00020003','000200030001',2),(172,'2019-09-20 11:23:23','admin','00020003','000200030002',2),(173,'2019-09-20 11:23:23','admin','00020003','000200030003',2),(174,'2019-09-20 11:23:23','admin','00020003','000200030004',2),(175,'2019-09-20 11:47:10','admin','00010001','000100010001',2),(176,'2019-09-20 11:47:10','admin','00010001','000100010002',2),(177,'2019-09-20 11:47:10','admin','00010001','000100010003',2),(178,'2019-09-20 11:47:10','admin','00010001','000100010004',2),(179,'2019-09-20 11:47:10','admin','00010001','000100010005',2),(180,'2019-09-20 11:47:10','admin','00010001','000100010006',2),(181,'2019-09-20 11:47:13','admin','00010002','000100020001',2),(182,'2019-09-20 11:47:13','admin','00010002','000100020002',2),(183,'2019-09-20 11:47:13','admin','00010002','000100020003',2),(184,'2019-09-20 11:47:13','admin','00010002','000100020004',2),(185,'2019-09-20 11:47:13','admin','00010002','000100020005',2),(198,'2019-09-20 14:01:44','admin','00020001','000200010001',1),(199,'2019-09-20 14:01:44','admin','00020001','000200010002',1),(200,'2019-09-20 14:01:44','admin','00020001','000200010003',1),(201,'2019-09-20 14:01:44','admin','00020001','000200010004',1),(202,'2019-09-20 14:01:44','admin','00020001','000200010005',1),(203,'2019-09-20 14:01:54','admin','00020002','000200020001',1),(204,'2019-09-20 14:01:54','admin','00020002','000200020002',1),(205,'2019-09-20 14:01:54','admin','00020002','000200020006',1),(206,'2019-09-20 14:01:56','admin','00020003','000200030001',1),(207,'2019-09-20 14:01:56','admin','00020003','000200030002',1),(208,'2019-09-20 14:01:56','admin','00020003','000200030003',1),(209,'2019-09-20 14:01:56','admin','00020003','000200030004',1),(228,'2019-09-20 16:03:57','admin','00010001','000100010001',3),(229,'2019-09-20 16:03:57','admin','00010001','000100010002',3),(230,'2019-09-20 16:13:05','admin','00020004','000200040001',1),(231,'2019-09-20 16:13:05','admin','00020004','000200040002',1),(232,'2017-11-07 12:17:48','admin','00010001','000100010001',1),(233,'2017-11-07 12:17:48','admin','00010001','000100010005',1);

/*Data for the table `oa_id_role` */

insert  into `tb_oa_role`(`id`,`create_time`,`modify_time`,`name`,`remark`,`creator`,`modifier`) values (1,'2019-09-10 09:33:23','2019-09-19 09:31:29','系统管理员','系统','admin','admin'),(2,'2019-09-10 09:33:24','2019-09-20 11:19:09','其他职员','其他职员','admin','admin'),(3,'2019-09-20 11:18:39','2019-09-20 11:19:23','咨询师','咨询师','admin','admin'),(4,'2019-09-20 11:18:50','2019-09-20 11:19:26','讲师','讲师','admin','admin');

/*Data for the table `oa_id_user` */

insert  into `tb_oa_user`(`user_id`,`answer`,`check_time`,`create_time`,`email`,`modify_time`,`name`,`password`,`qq_num`,`question_num`,`sex`,`status`,`telephone`,`check_user`,`creator`,`dept_id`,`job_code`,`modifier`)
values ('admin','19810821232332','2019-09-20 16:47:31','2019-09-10 09:33:23','dlei0009@163.com','2019-09-20 16:03:21','徐磊','123456', '251425887',1,1,1,'18665616520','admin','admin',2,'0001','admin')
    ,('ligang','19831011','2019-09-20 16:45:00','2019-09-20 09:33:35','251425887@qq.com','2019-09-20 16:38:28','李刚','123456','17522122121',1,1,0,'18665616520','admin','admin',1,'0009','admin')
    ,('xcm','湖北','2019-09-20 16:47:42','2019-09-16 10:12:24','22332234@qq.com','2019-09-20 16:06:34','谢老师','123456','251425887',2,2,1,'18665616520','admin','admin',3,'0008','admin');

/*Data for the table `oa_id_user_role` */

insert  into `tb_oa_user_role`(`role_id`,`user_id`) values (1,'admin'),(2,'ligang'),(3,'xcm');
